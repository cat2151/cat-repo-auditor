# issue リポジトリごとにヌケモレなく設定をして、その設定を可視化できるようにする #27
[issues #27](https://github.com/cat2151/cat-repo-auditor/issues/27)

# これまでの課題
- これまでのtomlのconfigは、対象userの、全リポジトリを対象に処理していた。
- 検証した結果、これはムダが多く、処理時間が大きく、UXが悪いことがわかった。

# 対策
- 当該userのリポジトリ一覧をlocalに、cache/repositories.json として保持する。これは1日1回更新とする
- 1日1回とは、アプリ終了ごとに「最終保存日時」を cache/history.json に保存して実現する
- 新規リポジトリを発見した場合（なお、この運用を開始したときはすべてのリポジトリが新規リポジトリとなる）は、
  - config/repositories.toml に、新規リポジトリそれぞれ、設定をどうするか？を、末尾に追記する
  - toml末尾への追記出力のイメージ：

```
[[repositories]]
    repository = 'cat-repo-auditor'
#    translate_readme = true
#    check_large_files = true
```

- デフォルトはコメントアウト。tomlに設定がない（コメントアウトなどで）ときはfalse扱い。
- この設定を利用するアプリは、起動時に、上記の設定内容をprintすることで、userに設定を可視化して伝える。
